<%- include("../parts/header.ejs") %>

  <div class="container py-5">
    <!-- Header -->
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h1 class="fw-bold text-dark">ðŸ“¦ All Products</h1>
      <a href="products/create" class="btn btn-primary">
        <i class="bi bi-plus-circle"></i> Create Product
      </a>
    </div>

    <!-- Products Table -->
    <div class="card shadow rounded-3">
      <div class="card-body">
        <table class="table table-striped table-hover align-middle text-center">
          <thead class="table-dark">
            <tr>
              <th>Product Name</th>
              <th>Company Name</th>
              <th>Category Name</th>
              <th>Quantity Per Unit</th>
              <th>Unit Price</th>
              <th>Units In Stock</th>
              <th>Units On Order</th>
              <th>Reorder Level</th>
              <th>Discontinued</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <% for (prod of products) { %>
            <tr>
              <td><%= prod.ProductName %></td>
              <td><%= prod.CompanyName %></td>
              <td><%= prod.CategoryName %></td>
              <td><%= prod.QuantityPerUnit %></td>
              <td class="text-success fw-semibold">$<%= prod.UnitPrice %></td>
              <td><%= prod.UnitsInStock %></td>
              <td><%= prod.UnitsOnOrder %></td>
              <td><%= prod.ReorderLevel %></td>
              <td>
                <% if(prod.Discontinued) { %>
                  <span class="badge bg-danger">Yes</span>
                <% } else { %>
                  <span class="badge bg-success">No</span>
                <% } %>
              </td>
              <td>
                <a href="products/update/<%= prod.ProductID %>" class="btn btn-sm btn-warning">
                  <i class="bi bi-pencil-square"></i> Update
                </a>
                <a href="products/delete/<%= prod.ProductID %>" class="btn btn-sm btn-danger">
                  <i class="bi bi-trash"></i> Delete
                </a>
              </td>
            </tr>
            <% } %>
          </tbody>
        </table>
      </div>
    </div>
  </div>

<%- include("../parts/footer") %>